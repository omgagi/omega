[omega]
name = "OMEGA Ω"
data_dir = "~/.omega"
log_level = "info"

# --- Auth ---

[auth]
enabled = true
deny_message = "Access denied. You are not authorized to use this agent."

[provider]
default = "claude-code"

# Claude Code (no key needed — uses local claude CLI auth)
[provider.claude-code]
enabled = true
max_turns = 100
allowed_tools = []              # Empty = full tool access (all Claude Code tools available)
timeout_secs = 3600             # Max wait for CLI response (60 min ceiling)
max_resume_attempts = 5         # Auto-resume when Claude hits max_turns (0 = disabled)
model = "claude-sonnet-4-6"     # Fast model: classification + direct responses
model_complex = "claude-opus-4-6" # Complex model: multi-step autonomous execution

# Anthropic API (requires key)
[provider.anthropic]
enabled = false
api_key = ""  # Or env: ANTHROPIC_API_KEY
model = "claude-sonnet-4-20250514"

# OpenAI-compatible (requires key)
[provider.openai]
enabled = false
api_key = ""  # Or env: OPENAI_API_KEY
model = "gpt-4o"
base_url = "https://api.openai.com/v1"

# Ollama (local, no key)
[provider.ollama]
enabled = false
base_url = "http://localhost:11434"
model = "llama3"

# OpenRouter (requires key)
[provider.openrouter]
enabled = false
api_key = ""  # Or env: OPENROUTER_API_KEY
model = "anthropic/claude-sonnet-4-20250514"

# Google Gemini (requires key)
[provider.gemini]
enabled = false
api_key = ""  # Or env: GEMINI_API_KEY
model = "gemini-2.0-flash"

# --- Channels ---

[channel.telegram]
enabled = false
bot_token = ""              # Or env: TELEGRAM_BOT_TOKEN
allowed_users = []          # Empty = allow all. Add Telegram user IDs to restrict.
whisper_api_key = ""        # Optional: OpenAI key for voice transcription (or env: OPENAI_API_KEY)

[channel.whatsapp]
enabled = false
allowed_users = []          # Phone numbers (e.g. ["5511999887766"]). Empty = allow all.
whisper_api_key = ""        # Optional: OpenAI key for voice transcription (or env: OPENAI_API_KEY)

# --- Memory ---

[memory]
backend = "sqlite"
db_path = "~/.omega/memory.db"
max_context_messages = 50

# --- Scheduler ---

[scheduler]
enabled = true                  # Zero cost when no tasks exist
poll_interval_secs = 60

# --- Heartbeat ---

[heartbeat]
enabled = false
interval_minutes = 30
active_start = "08:00"          # Empty = always active
active_end = "22:00"
channel = "telegram"
reply_target = ""               # Chat ID for delivery

# --- Quantitative Trading ---

[quant]
enabled = false                 # Enable the quant engine (advisory only by default)
default_symbol = "BTCUSDT"      # Trading pair to track
network = "testnet"             # "testnet" (safe) or "mainnet" (real money)
kline_interval = "1m"           # Candlestick interval (1m, 5m, 15m, 1h, etc.)
risk_aversion = 2.0             # Merton risk aversion parameter (higher = more conservative)
kelly_fraction = 0.25           # Fraction of full Kelly to use (0.1 to 1.0)
max_position_pct = 0.10         # Max position size as % of portfolio (0.01 to 0.50)
portfolio_value = 10000.0       # Portfolio value in USD for sizing calculations
# API keys: set BINANCE_TESTNET_API_KEY / BINANCE_TESTNET_SECRET_KEY env vars
#           or BINANCE_API_KEY / BINANCE_SECRET_KEY for mainnet

[quant.safety]
max_daily_trades = 10           # Max trades per day
max_daily_usd = 5000.0          # Max USD traded per day
require_confirmation = true     # Human must confirm every trade (always true)
cooldown_minutes = 5            # Minimum wait between trades

# --- Security ---

[sandbox]
mode = "sandbox"   # "sandbox" | "rx" | "rwx"
# sandbox = workspace only, no host access (default, safest)
# rx      = can read & execute on host, writes only in workspace
# rwx     = full host access (for power users)
