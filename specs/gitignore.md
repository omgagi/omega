# .gitignore Specification

**File:** `/Users/isudoajl/ownCloud/Projects/omega/.gitignore`

## Purpose

The `.gitignore` file specifies which files and directories should be excluded from version control in the Omega project. This ensures that build artifacts, sensitive configuration files, temporary files, and environment-specific data are never accidentally committed to the Git repository.

## Ignored Patterns

### 1. Build Artifacts

**Pattern:** `/target`

- **Category:** Cargo build output
- **Rationale:** The `/target` directory contains compiled binaries, intermediate object files, and dependency artifacts generated by `cargo build` and `cargo check`. These are platform-specific, regenerable artifacts that should never be committed. Each developer's environment may produce different artifacts, and including them in version control wastes space and causes merge conflicts.
- **Size Impact:** Typically 500MB+ per build configuration
- **Regeneration:** Automatically created by running `cargo build`, `cargo check`, or `cargo test`

### 2. SQLite Databases

**Pattern:** `*.db`

- **Category:** Runtime data and state
- **Rationale:** Database files with `.db` extension (such as `memory.db`) contain application runtime state, conversation history, audit logs, and user data. These files are specific to individual deployments and instances. Including them in version control would:
  - Leak production or personal data
  - Cause merge conflicts across branches
  - Create version control overhead
- **Location in Project:** `~/.omega/data/memory.db` (as per CLAUDE.md)
- **Security Impact:** HIGH — may contain sensitive conversation history

### 3. Application Configuration

**Pattern:** `config.toml`

- **Category:** Secrets and environment-specific settings
- **Rationale:** The `config.toml` file contains deployment-specific configuration including:
  - API keys and authentication tokens
  - Telegram bot tokens
  - User allowlists
  - Provider credentials
  - Custom settings
  - Personal information
- **Security Impact:** CRITICAL — must never be committed
- **Committed Alternative:** `config.example.toml` serves as a template for users to create their own config
- **Handling:** Users copy `config.example.toml` to `config.toml` and fill in their own secrets

### 4. Environment Variables

**Pattern:** `.env`

- **Category:** Secrets and sensitive configuration
- **Rationale:** The `.env` file typically contains:
  - API keys (Claude, Anthropic, OpenAI, OpenRouter)
  - Authentication tokens
  - Database credentials
  - Private configuration
  - Development/debugging secrets
- **Security Impact:** CRITICAL — contains plaintext secrets
- **Best Practice:** Use environment variables or a `.env` file locally, but never commit it
- **Alternative:** Use `.env.example` (if needed) as a template for required variables

## Security Summary

The `.gitignore` configuration follows security best practices by preventing:

| Risk Level | Pattern | Consequence |
|-----------|---------|------------|
| CRITICAL | `config.toml` | API keys, bot tokens, user lists exposed |
| CRITICAL | `.env` | Credentials and secrets in version history |
| HIGH | `*.db` | Conversation history and audit logs exposed |
| MEDIUM | `/target` | Repository bloat, platform-specific artifacts |

## Development Workflow

### Creating a Local Setup

1. Clone the repository
2. Copy template files:
   ```bash
   cp config.example.toml config.toml
   ```
3. Edit `config.toml` with your secrets and settings
4. The `.env` file (if used) should be created locally with environment-specific variables
5. Both `config.toml` and `.env` are automatically excluded from Git

### Verifying Ignored Files

To see what files are currently ignored:

```bash
git check-ignore -v <filename>
```

To check if a pattern is working:

```bash
git status --ignored
```

## Compliance with CLAUDE.md

This `.gitignore` configuration aligns with the project's design rules from `CLAUDE.md`:

- **Config from file + env:** Supports both `config.toml` (via example template) and `.env` override patterns
- **SQLite for everything:** Ignores all `.db` files to keep databases out of version control
- **Security Constraints:** Prevents accidental exposure of secrets, API keys, and authentication tokens

## Additional Recommendations

While not currently in `.gitignore`, consider adding:

- `**/*.log` — Application logs (if created in-repo)
- `.DS_Store` — macOS folder metadata
- `*.swp`, `*.swo` — Vim swap files
- `.idea/`, `.vscode/` — IDE configurations (if project-specific)
- `Cargo.lock` — Optional (depends on library vs. binary approach; currently recommended for binaries)

These patterns depend on your project's specific needs and development environment setup.
